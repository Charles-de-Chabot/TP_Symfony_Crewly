{% extends 'base.html.twig' %}

{% block title %}
	Ma location : {{ boat.name }} - Crewly
{% endblock %}

{% block body %}

    <div class="min-h-screen bg-main py-8">
        <div class="container-medium">

            {% include "partials/_messages.html.twig" %}

			{# Bouton retour #}
			<a class="link-nav inline-flex items-center mb-6" href="{{ path('app_profile_show') }}">
				<svg class="icon-sm mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
				</svg>
				<span>Retour au profil</span>
			</a>

            {# DÃ©tail du bateau et de la location #}
            <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                <div class="md:flex">
                    <div class="md:w-1/2 h-64 md:h-auto relative">
                        {# Affichage de la premiÃ¨re image du bateau ou d'un placeholder #}
                        {% if boat.media is defined and boat.media|length > 0 %}
                            <img class="absolute inset-0 w-full h-full object-cover" src="{{ asset('uploads/boats/' ~ boat.media.first.imgPath) }}" alt="{{ boat.name }}">
                        {% else %}
                            <div class="absolute inset-0 w-full h-full bg-gray-100 flex items-center justify-center text-gray-400">
                                <span class="text-sm">Pas d'image</span>
                            </div>
                        {% endif %}
                    </div>
                    <div class="p-8 md:w-1/2">
                        <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold">
                            {{ boat.type.label|default(boat.type) }} â€¢ {{ boat.model.label|default(boat.model) }}
                        </div>
                        <h1 class="block mt-1 text-2xl leading-tight font-bold text-gray-900">{{ boat.name }}</h1>

                        {# Dates de rÃ©servation #}
                        <div class="mt-3 inline-flex items-center px-3 py-1 rounded-lg bg-primary-light text-primary-dark text-sm font-medium">
                            <span class="mr-2">ðŸ“…</span> 
                            <span>Du {{ rental.rentalStart|date('d/m/Y') }} au {{ rental.rentalEnd|date('d/m/Y') }}</span>
                        </div>

                        <div class="mt-2 text-xl font-bold text-primary">
                            Prix total : {{ rental.rentalPrice }} â‚¬
                        </div>

                        <p class="mt-4 text-gray-600">{{ boat.description }}</p>

                        <div class="mt-6 border-t border-gray-200 pt-6">
                            <dl class="grid grid-cols-2 gap-x-4 gap-y-4">
                                <div>
                                    <dt class="text-sm font-medium text-gray-500">CapacitÃ©</dt>
                                    <dd class="mt-1 text-sm text-gray-900">{{ boat.maxUser }} personnes</dd>
                                </div>
                                <div>
                                    <dt class="text-sm font-medium text-gray-500">Dimensions</dt>
                                    <dd class="mt-1 text-sm text-gray-900">{{ boat.boatLength }}m x {{ boat.boatWidth }}m</dd>
                                </div>
                                <div>
                                    <dt class="text-sm font-medium text-gray-500">Tirant d'eau</dt>
                                    <dd class="mt-1 text-sm text-gray-900">{{ boat.boatDraught }}m</dd>
                                </div>
                                <div>
                                    <dt class="text-sm font-medium text-gray-500">Moteur</dt>
                                    <dd class="mt-1 text-sm text-gray-900">{{ boat.powerEngine }} CV ({{ boat.fuel }})</dd>
                                </div>
                            </dl>
                        </div>

                        {% if adress %}
                            <div class="mt-6 pt-4 border-t border-gray-100">
                                <p class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Adresse du port</p>
                                <p class="text-xs text-gray-500">
                                    {{ adress.houseNumber }} {{ adress.streetName }}<br>
                                    {{ adress.postcode }} {{ adress.city }}
                                </p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}